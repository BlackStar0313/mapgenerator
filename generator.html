<!DOCTYPE html> 
<html>
<head>
    <title>Map Generator</title>
    <script src="libraries/raphael.js" type="text/javascript"></script>
    <script src="mapGenerator.js" type="text/javascript"></script>
    <script src="generator.js" type="text/javascript"></script>
</head>
<body style="background-color: #1b1b1b;">
    <div id="paper">
    </div>
    
    <script type="text/javascript">
        var width = 1400;
        var height = 800;
        var hexagonSize = 40;
        var numberOfCountries = 60;
        var useDistortion = false;
        var countrySizeVariance = 0.5;
        var maximumHoleSize = 0;
        var generator = new MapGenerator(width, height, hexagonSize);
        var paper = Raphael("paper", width, height);
        
        generator.init(useDistortion);
        generator.generate(numberOfCountries, countrySizeVariance, maximumHoleSize);
        
        var map = generator.getUnitacsMap();
        
        for (var i = 0; i < map.regions.length; i++) {          
            paper.path(map.regions[i].pathString).attr("fill", Raphael.getColor(0.4));
            paper.circle(map.regions[i].center.x, map.regions[i].center.y, 5).attr("fill", '#eeea10');
        }
        
        for (var i = 0; i < map.adjacencyMatrix.length; i++) {
            for (var j = 0; j < map.adjacencyMatrix[i].length; j++) {
                if (map.adjacencyMatrix[i][j] == 0)
                    continue;
                    
                paper.path(
                    'M ' + map.regions[i].center.x + 
                    ',' + map.regions[i].center.y + 
                    ' L ' + map.regions[j].center.x + 
                    ',' + map.regions[j].center.y + ' Z'
                ).attr('stroke', '#ffffff').attr('opacity', 0.3);
            }
        }
    </script>
</body>
</html>